<!DOCTYPE html>
<html lang="en" >
<head>
   <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CodePen - Snowy night</title>


</head>
<body>

<div class="frame">
  <div class="ambient"></div>

  <div class="weather">
    <div class="snow" id="snow">

    </div>

  </div>

  </div>


</body>
</html>

<style type="text/css">
@font-face {
    font-family: 'Cafe24Shiningstar';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.1/Cafe24Shiningstar.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

#poetText{font-family: 'Cafe24Shiningstar'; position: absolute; left: 800px; top:  150px; font-size: 2.5rem; font-weight: medieum; color: white;}
.word{opacity: 0; animation: fadein 1s forwards;}
@keyframes fadein{
to{opacity: 1;}        
}


.frame {
  position: relative;
  margin: auto;
  aspect-ratio: 1/1.5;
  height: 99%;
  background: linear-gradient(to bottom, #3E383A, #4D4A4E, #444452);
  overflow: hidden;
}
.frame .ambient {
  z-index: 1;
  position: absolute;
  background: yellow;
  inset: -35%;
  top: -56%;
  left: -29%;
  mask-image: radial-gradient(circle, #ffffffff, #ffffff66 13%, #ffffff00 100%);
  -webkit-mask-image: radial-gradient(circle, #ffffffff, #ffffff66 13%, #ffffff00 100%);
  opacity: 0.25;
}
.frame .weather {
  z-index: 1;
  position: absolute;
  inset: -2%;
  mask-image: radial-gradient(circle, #ffffffff, #ffffff66 13%, #ffffff33 30%, #ffffff11 100%);
  -webkit-mask-image: radial-gradient(circle, #ffffffff, #ffffff66 13%, #ffffff33 30%, #ffffff15 100%);
  top: -15%;
  left: -4%;
}
.frame .snow {
  z-index: 1;
  position: absolute;
  inset: 0;
}
.frame .snow .dot {
  height: 0.35vh;
  width: 0.35vh;
  max-width: 4px;
  max-height: 4px;
  border-radius: 40%;
  position: absolute;
  background: whitesmoke;
}
.frame [class^=bat] .level {
  padding-right: 6%;
  display: flex;
  align-items: center;
  justify-content: space-evenly;
  rotate: -16deg;
  margin-bottom: 27%;
}
.frame [class^=bat] .level .window {
  aspect-ratio: 1/1;
  background: #20181599;
  transform: skew(-10deg);
  width: 14%;
}
.frame [class^=bat] .level .window.tv {
  animation-name: watchingtv;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  box-shadow: 0 0 16px #7AABC6;
}




.frame .pole {
  rotate: 14deg;
  position: absolute;
  right: 68%;
  bottom: -10%;
  width: 10%;
  height: 68%;
  clip-path: polygon(0 0, 21% 0, 100% 100%, 0% 100%);
  background: linear-gradient(31deg, #29180E, #29180E, #614121 90%, #614121);
}


body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  background-color: black;
  color: #ffffffAA;
}

</style>
   <div id="poetText"></div>
<script type="text/javascript">
 
           var poet = "사랑하는 보현이에게<br> 보현아<br> <br> 우리에게 겨울이 없었다면<br> 무엇으로 따뜻한 포옹이 가능할까<br> 무엇으로 깊어질 수 있었을까<br><br> 이 추운 떨림이 없다면 <br> 꽃은 무엇으로 피어나고 <br> 무슨 기운으로 향기를 낼 수 있을까 <br> 나 언 눈 뜨고 너를 기다릴 수 있을까 <br> <br> 눈보라치는 겨울 밤이 없다면 <br> 추워 떠는 너를 어떻게 다 헤아리고 <br> 나를 녹여주는 주변의 것들을 고마워하고 <br> 희망 하나 가질 수 있을까<br> 어느덧 눈이 와 <br> 오늘도 그때처럼 춥네 <br> 그때처럼 떨리는 사랑이 오겠지 <br> <br> 2006년 12월 추운 겨울 <br> 박노해<br> <br>";
            
            var poetArr = poet.split(" ");

            var myTimer = setInterval(print,500);
            var s=0;
            function print(){
                var t = document.createElement("span");
                t.innerHTML = poetArr[s] + " ";
                t.className = "word";
                s++;
                poetText.appendChild(t);

                if(s == poetArr.length){
                        clearInterval(myTimer);
                }
            }


            function randomBH(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
        }


  let flocons = null;
const maxOverflow = 110;
const nbFlocons = 5000;


function randomIntFromInterval(min = 0, max = maxOverflow) {
  return Math.random() * (max - min + 1) + min;
}

function downFall() {
  const list = flocons || document.getElementsByClassName('dot');
  flocons = Array.from(list);
  if (!flocons) {
    throw new Error('flocons undefined');
  }
  for (let flocon of Array.from(flocons)) {
    const x = +flocon.style.top.replace('%', '');
    const y = +flocon.style.left.replace('%', '');
    let top = randomIntFromInterval(0, 1) + x;
    let left = randomIntFromInterval(-4, 0) + y;
    top = top > maxOverflow ? 0 : top;
    left = left < 0 ? maxOverflow : left;
    flocon.style.top = `${top}%`;
    flocon.style.left = `${left}%`;
  }
}

const snowContainer = document.getElementById('snow');
if (!snowContainer) {
  throw new Error('snowContainer undefined');
}
for (let i = 0; i < nbFlocons; i++) {
  const flocon = document.createElement('div');
  flocon.classList.add('dot');
  const top = randomIntFromInterval();
  const left = randomIntFromInterval();
  flocon.style.top = `${top}%`;
  flocon.style.left = `${left}%`;
  snowContainer.appendChild(flocon);
}
setInterval(() => this.downFall(), 100);

</script>